<div class="body-overlay"></div>

<!-- Navbar HTML -->
<nav class="navbar">
    <div class="nav-container">
        <a class="nav-brand" routerLink="/">
            <img src="assets/imagenes/Logo.png" alt="Logo Landbnb" class="logo-img">
            <span class="brand-name">Landbnb</span>
        </a>

        <div class="nav-right">
            <a class="nav-link host-link" routerLink="/crear-alojamiento">Conviértete en anfitrión</a>

            <div class="dropdown">
                <a href="#" class="menu-icon" (click)="toggleDropdown($event)">
                    <i class="fas fa-bars"></i>
                </a>
                <div class="dropdown-menu" [class.show]="dropdownOpen">
                    <h6 class="dropdown-header">Hola, Carlos Flórez</h6>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" routerLink="/anfitrion"><i class="fas fa-tachometer-alt"></i>Panel de Anfitrión</a>
                    <a class="dropdown-item" routerLink="/reservas-anfitrion"><i class="fas fa-calendar-alt"></i>Reservas</a>
                    <a class="dropdown-item" routerLink="/estadisticas"><i class="fas fa-chart-line"></i>Métricas</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" routerLink="/perfil"><i class="fas fa-user-edit"></i>Editar Perfil</a>
                    <a class="dropdown-item" routerLink="/cambiar-contrasena"><i class="fas fa-key"></i>Cambiar Contraseña</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item logout" routerLink="/iniciar-sesion"><i class="fas fa-sign-out-alt"></i>Cerrar Sesión</a>
                </div>
            </div>

            <a routerLink="/perfil" class="profile-link">
                <img src="assets/imagenes/perfil.png" alt="Perfil" class="profile-img">
            </a>
        </div>
    </div>
</nav>

<div class="container">
    <!-- Gallery Grid -->
    <div class="gallery-grid">
        <div class="gallery-item-1">
            <img src="assets/imagenes/hostal2.jpg.avif" alt="Imagen principal">
        </div>
        <div class="gallery-item-2">
            <img src="assets/imagenes/hostal5.jpeg.avif" alt="Imagen 2">
        </div>
        <div class="gallery-item-3">
            <img src="assets/imagenes/hostal3.jpg" alt="Imagen 3">
        </div>
        <div class="gallery-item-4">
            <img src="assets/imagenes/hostal4.jpg" alt="Imagen 4">
        </div>
        <div class="gallery-item-5">
            <img src="assets/imagenes/hostal6.jpg" alt="Imagen 5">
        </div>
    </div>

    <!-- Main Content -->
    <div class="content-row">
        <!-- Left Column -->
        <div class="content-main">
            <div class="property-header">
                <div class="property-title-section">
                    <h1>Laureles - Apartaestudio Iluminado</h1>
                    <div class="property-rating">
                        <i class="fas fa-star"></i>
                        <span>4.85 (25 reseñas)</span>
                        <span>·</span>
                        <a href="#" class="text-white">Medellín, Colombia</a>
                    </div>
                </div>
            </div>

            <div class="property-type">
                <div class="property-features">
                    <h2>Apartamento completo</h2>
                    <p>4 huéspedes · 2 habitaciones · 2 camas · 1 baño</p>
                </div>
                <img src="assets/imagenes/perfil.png" alt="Anfitrión" class="host-avatar">
            </div>

            <div class="section">
                <h2>Descripción</h2>
                <p>Este es un lugar acogedor, perfecto para familias o grupos de amigos. Cuenta con todas las comodidades que necesitas para una estadía inolvidable. Ubicado en el corazón de Laureles, tendrás acceso a los mejores restaurantes y parques de la ciudad a solo unos pasos.</p>
            </div>

            <div class="section">
                <h2>Servicios del lugar</h2>
                <div class="amenities-grid">
                    <div class="amenity-item">
                        <i class="fas fa-wifi"></i>
                        <span>WiFi de alta velocidad</span>
                    </div>
                    <div class="amenity-item">
                        <i class="fas fa-utensils"></i>
                        <span>Cocina completa</span>
                    </div>
                    <div class="amenity-item">
                        <i class="fas fa-snowflake"></i>
                        <span>Aire acondicionado</span>
                    </div>
                    <div class="amenity-item">
                        <i class="fas fa-parking"></i>
                        <span>Parking gratuito</span>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Ubicación</h2>
                <div class="map-container">
                    <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31828.13941432497!2d-75.6896081513672!3d4.551388999999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e38f5a5e3a2c53b%3A0x2477b8c1a1e05ba7!2sPlaza%20de%20Bol%C3%ADvar%20de%20Armenia!5e0!3m2!1ses!2sco!4v1725052569476!5m2!1ses!2sco"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>

            <div class="section">
                <h2><i class="fas fa-star" style="color: #ffc107;"></i> 4.85 · 25 reseñas</h2>
                <div class="reviews-grid">
                    <div class="review-card" *ngFor="let review of reviews">
                        <div class="review-header">
                            <img [src]="review.avatar" class="review-avatar">
                            <div class="review-user">
                                <h4>{{ review.user }}</h4>
                                <div class="review-date">{{ review.date }}</div>
                            </div>
                        </div>
                        <p>{{ review.comment }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column - Reservation -->
        <div class="content-sidebar">
            <div class="reservation-card">
                <h2>Reserva tu estadía</h2>
                <div class="price-display">
                    <div class="price-amount">$180.000 COP</div>
                    <div class="price-period">por noche</div>
                </div>

                <form [formGroup]="reservationForm" (ngSubmit)="onReserve()">
                    <div class="form-group">
                        <label class="form-label">Llegada</label>
                        <input type="date"
                               class="form-control"
                               formControlName="checkIn"
                               [min]="minDate"
                               (change)="onDateChange()">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Salida</label>
                        <input type="date"
                               class="form-control"
                               formControlName="checkOut"
                               [min]="minCheckoutDate"
                               (change)="onDateChange()">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Huéspedes</label>
                        <select class="form-select" formControlName="guests">
                            <option value="1">1 huésped</option>
                            <option value="2">2 huéspedes</option>
                            <option value="3">3 huéspedes</option>
                            <option value="4">4 huéspedes</option>
                        </select>
                    </div>

                    <button type="submit" class="btn-primary" [disabled]="!reservationForm.valid">
                        Reservar ahora
                    </button>

                    <p class="text-center" style="margin-top: 1rem; font-size: 0.9rem;">
                        No se te cobrará nada todavía
                    </p>

                    <div class="price-breakdown">
                        <div class="price-row">
                            <span>$180.000 x 5 noches</span>
                            <span>$900.000</span>
                        </div>
                        <div class="price-row">
                            <span>Comisión por servicio</span>
                            <span>$65.000</span>
                        </div>
                        <div class="price-total">
                            <span>Total</span>
                            <span>$965.000</span>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>